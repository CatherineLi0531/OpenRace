<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.73">
<link rel="alternate" type="application/rss+xml" href="/OpenRace/blog/rss.xml" title="Coderrect OpenRace Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/OpenRace/blog/atom.xml" title="Coderrect OpenRace Blog Atom Feed"><title data-react-helmet="true">Setting Up Dev Environment | Coderrect OpenRace</title><meta data-react-helmet="true" property="og:url" content="https://coderrect-inc.github.io/OpenRace/doc-setup-dev-env"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Setting Up Dev Environment | Coderrect OpenRace"><meta data-react-helmet="true" name="description" content="Setting Up Dependencies"><meta data-react-helmet="true" property="og:description" content="Setting Up Dependencies"><link data-react-helmet="true" rel="shortcut icon" href="/OpenRace/img/coderrect-logo.png"><link data-react-helmet="true" rel="canonical" href="https://coderrect-inc.github.io/OpenRace/doc-setup-dev-env"><link data-react-helmet="true" rel="alternate" href="https://coderrect-inc.github.io/OpenRace/doc-setup-dev-env" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://coderrect-inc.github.io/OpenRace/doc-setup-dev-env" hreflang="x-default"><link rel="stylesheet" href="/OpenRace/assets/css/styles.ed0b3173.css">
<link rel="preload" href="/OpenRace/assets/js/styles.1b08c8f0.js" as="script">
<link rel="preload" href="/OpenRace/assets/js/runtime~main.0a23cd4d.js" as="script">
<link rel="preload" href="/OpenRace/assets/js/main.7ac5bf8b.js" as="script">
<link rel="preload" href="/OpenRace/assets/js/common.ba9d2496.js" as="script">
<link rel="preload" href="/OpenRace/assets/js/2.723ce715.js" as="script">
<link rel="preload" href="/OpenRace/assets/js/1f391b9e.335e91a1.js" as="script">
<link rel="preload" href="/OpenRace/assets/js/19.7d436941.js" as="script">
<link rel="preload" href="/OpenRace/assets/js/935f2afb.46712b3d.js" as="script">
<link rel="preload" href="/OpenRace/assets/js/17896441.6d896336.js" as="script">
<link rel="preload" href="/OpenRace/assets/js/c2c4ac1a.5d9b8101.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/OpenRace/"><img src="/OpenRace/img/coderrect-logo.png" alt="Coderrect OpenRace" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/OpenRace/img/coderrect-logo.png" alt="Coderrect OpenRace" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Coderrect OpenRace</strong></a><a href="https://coderrect.com/blog/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/coderrect-inc/OpenRace" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="navbar__search searchBarContainer_MM2z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_s5VG searchBarLoadingRing_2jQk"><div></div><div></div><div></div><div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/OpenRace/"><img src="/OpenRace/img/coderrect-logo.png" alt="Coderrect OpenRace" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/OpenRace/img/coderrect-logo.png" alt="Coderrect OpenRace" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Coderrect OpenRace</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://coderrect.com/blog/" target="_blank" rel="noopener noreferrer" class="menu__link">Blog</a></li><li class="menu__list-item"><a href="https://github.com/coderrect-inc/OpenRace" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Quick Start</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/OpenRace/">Get Started with Coderrect OpenRace</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Developer Guide</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/OpenRace/doc-setup-dev-env">Setting Up Dev Environment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/OpenRace/doc-overview">Design Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/OpenRace/doc-adding-new-features">Adding New Features</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/OpenRace/doc-contribute-to-docs">Contribute to Docs</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Setting Up Dev Environment</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="setting-up-dependencies"></a>Setting Up Dependencies<a class="hash-link" href="#setting-up-dependencies" title="Direct link to heading">#</a></h2><p>It is <strong>highly</strong> recommended that development be done on Linux.</p><p>We test all of our builds using Ubuntu 20.04 and most of our core team is using Manjaro, though any recent linux based OS should work.</p><p>This guide will give instructions based on Ubuntu 20.04.</p><p>To follow this guide on setting up a dev environment you will need:</p><ul><li>A modern C++ compiler (gcc/clang)</li><li><a href="https://ninja-build.org/" target="_blank" rel="noopener noreferrer">Ninja Build</a></li><li><a href="https://conan.io/downloads.html" target="_blank" rel="noopener noreferrer">Conan</a></li><li>LLVM 10.0.X</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="install-compiler"></a>Install Compiler<a class="hash-link" href="#install-compiler" title="Direct link to heading">#</a></h3><p>Most systems should already have gcc installed, but just in case, these commands can be used to install gcc. </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Update packages </span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">apt-get</span><span class="token plain"> update</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Install gcc and ninja</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">apt-get</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> -y build-essential ninja-build</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Check that gcc is installed</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">gcc --version</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="install-conan"></a>Install Conan<a class="hash-link" href="#install-conan" title="Direct link to heading">#</a></h3><p>Conan is used to automatically manage OpenRace&#x27;s dependencies (except for LLVM).</p><p>If you already have python and pip installed, the easiest way to install Conan is by running either of the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Python2</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">pip </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> conan</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Python3</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">pip3 </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> conan</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>On Ubuntu, the binary can also be directly downloaded and installed.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Download</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"> -L -O https://github.com/conan-io/conan/releases/latest/download/conan-ubuntu-64.deb</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Install</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dpkg -i conan-ubuntu-64.deb </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>For more information or examples on installing <a href="https://conan.io/downloads.html" target="_blank" rel="noopener noreferrer">Conan</a>, see their <a href="https://docs.conan.io/en/latest/installation.html" target="_blank" rel="noopener noreferrer">installation instructions</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="install-llvm-100x"></a>Install LLVM 10.0.x<a class="hash-link" href="#install-llvm-100x" title="Direct link to heading">#</a></h3><p>There are two ways to get LLVM:</p><ul><li>From package manager (Ubuntu 20.04 only)</li><li>Build from source</li></ul><p>The easy/quick way is to install from package manager, though it may not work on all systems. In most cases LLVM will likely need to be built from source.</p><p>In either case, LLVM will include a file named <code>LLVMConfig.cmake</code>. You will need to save the directory containing this file in order to build OpenRace.</p><p>In this guide we save it into the <code>LLVM_DIR</code> environment variable.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="package-manager"></a>Package Manager<a class="hash-link" href="#package-manager" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Install LLVM 10</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">apt-get</span><span class="token plain"> update</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> -y llvm-10</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Save location of LLVMConfig.cmake</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">LLVM_DIR</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">/usr/lib/llvm-10/lib/cmake/llvm/</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="from-source"></a>From Source<a class="hash-link" href="#from-source" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Get the source code</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> clone --depth </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> -b llvmorg-10.0.1 https://github.com/llvm/llvm-project.git</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">mkdir</span><span class="token plain"> -p llvm-project/build </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> llvm-project/build</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Configure the build with CMake</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">cmake</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    -DLLVM_TARGETS_TO_BUILD</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;X86&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    -DCMAKE_CXX_STANDARD</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;17&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    -DLLVM_INCLUDE_EXAMPLES</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">OFF </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    -DLLVM_INCLUDE_TESTS</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">OFF </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    -DLLVM_INCLUDE_BENCHMARKS</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">OFF </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    -DLLVM_APPEND_VC_REV</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">OFF </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    -DLLVM_OPTIMIZED_TABLEGEN</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">ON </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    -DCMAKE_BUILD_TYPE</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">Release </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    -G Ninja </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">/llvm</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Build and Install</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">cmake --build </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">.</span><span class="token plain"> --parallel</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">cmake --build </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">.</span><span class="token plain"> --target </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Save location of LLVMConfig.cmake</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">LLVM_DIR</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">$(</span><span class="token variable builtin class-name" style="color:rgb(255, 203, 107)">pwd</span><span class="token variable" style="color:rgb(191, 199, 213)">)</span><span class="token plain">/</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>There are a lot of CMake options to customize the LLVM build. See <a href="https://www.llvm.org/docs/CMake.html" target="_blank" rel="noopener noreferrer">LLVM&#x27;s page on CMake</a> for more options.</p><p>The important ones used above are:</p><ul><li><code>LLVM_TARGETS_TO_BUILD=&quot;X86&quot;</code><br>We only build for the X86 platform to save time</li><li><code>CMAKE_CXX_STANDARD=&quot;17&quot;</code><br>OpenRace is also using C++17</li><li><code>CMAKE_BUILD_TYPE=Debug</code><br>Builds LLVM in Debug mode to make debugging easier</li><li><code>-G Ninja</code><br>Building using Ninja Build</li></ul><p>The rest are just some options set to save time/space when building.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="building-openrace"></a>Building OpenRace<a class="hash-link" href="#building-openrace" title="Direct link to heading">#</a></h2><p>The recommended method of building the project for development is</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Get the source code</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> clone https://github.com/coderrect-inc/OpenRace.git</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">mkdir</span><span class="token plain"> build </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> build</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Let conan build dependencies</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">conan </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Configure build with cmake</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">cmake </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    -DCMAKE_EXPORT_COMPILE_COMMANDS</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">ON </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    -DCMAKE_BUILD_TYPE</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">Debug </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    -DLLVM_DIR</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">$LLVM_DIR</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    -G Ninja </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Build OpenRace</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">cmake --build </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">.</span><span class="token plain"> --parallel</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Check that OpenRace was built</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">./bin/openrace --help</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The cmake options do the following:</p><ul><li><code>CMAKE_EXPORT_COMPILE_COMMANDS=ON</code><br>produces a <code>compile_commands.json</code> file in the build directory. Most IDEs can be set up to use this file for neat IDE features.</li><li><code>CMAKE_BUILD_TYPE=Debug</code><br>Builds the project in debug mode. This makes it is easier to debug if/when issues occur.</li><li><code>LLVM_DIR=$LLVM_DIR</code><br>Should point to a directory containing <code>LLVMConfig.cmake</code>. See the &quot;Install LLVM 10.0.X&quot; section above.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="running-tests"></a>Running Tests<a class="hash-link" href="#running-tests" title="Direct link to heading">#</a></h2><p>From the build directory, run <code>ctest</code>. This should automatically handle running tests from the correct directory. </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">OpenRace/build</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> ctest</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token plain">% tests passed, </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"> tests failed out of </span><span class="token number" style="color:rgb(247, 140, 108)">25</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Total Test </span><span class="token function" style="color:rgb(130, 170, 255)">time</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">real</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">  </span><span class="token number" style="color:rgb(247, 140, 108)">29.24</span><span class="token plain"> sec</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Tests can also be executed manually using the<code>bin/tester</code> executable. </p><p>Many of the tests read IR files and are expected to be run from the <code>/tests/data</code> directory. Keep this in mind if running tests manually. </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">OpenRace/tests/data</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">/</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">/build/bin/tester</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token plain">% tests passed, </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"> tests failed out of </span><span class="token number" style="color:rgb(247, 140, 108)">25</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Total Test </span><span class="token function" style="color:rgb(130, 170, 255)">time</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">real</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">  </span><span class="token number" style="color:rgb(247, 140, 108)">29.24</span><span class="token plain"> sec</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>We use <a href="https://github.com/catchorg/Catch2" target="_blank" rel="noopener noreferrer">Catch2</a> for testing. See their documentation for more options on running their tests.</p><p>It is expected that all tests will always pass in the main branch of the project.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="using-clang-format"></a>Using clang-format<a class="hash-link" href="#using-clang-format" title="Direct link to heading">#</a></h2><p>All code should be formatted according to the <code>.clang-format</code> file at the project root.</p><p>Coderrect OpenRace adopts <a href="https://google.github.io/styleguide/cppguide.html" target="_blank" rel="noopener noreferrer">Google&#x27;s C++ Style Guide</a> with some small customizations.</p><p>Most IDEs can be set to run clang-format automatically. Check the settings for your IDE on how to set this up.</p><p>Worst case, clang format can be run manually on an individual file</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">clang-format -i -style=file file.cpp</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Or on the entire project directory (careful to run this from within this project&#x27;s directory as it will recursively overwrite all files ending in .h or .cpp in this directory and all subdirectories).</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">cd OpenRace/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">find . -iname *.h -o -iname *.cpp | xargs clang-format -i -style=file</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/coderrect-inc/OpenRace/tree/develop/website/docs/doc-setup-dev-env.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/OpenRace/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Get Started with Coderrect OpenRace</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/OpenRace/doc-overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Design Overview Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#setting-up-dependencies" class="table-of-contents__link">Setting Up Dependencies</a><ul><li><a href="#install-compiler" class="table-of-contents__link">Install Compiler</a></li><li><a href="#install-conan" class="table-of-contents__link">Install Conan</a></li><li><a href="#install-llvm-100x" class="table-of-contents__link">Install LLVM 10.0.x</a></li></ul></li><li><a href="#building-openrace" class="table-of-contents__link">Building OpenRace</a></li><li><a href="#running-tests" class="table-of-contents__link">Running Tests</a></li><li><a href="#using-clang-format" class="table-of-contents__link">Using clang-format</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/OpenRace/">Style Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/OpenRace/doc-adding-new-features">Contributing</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/coderrect-inc/OpenRace" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://coderrect.com/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Coderrect, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/OpenRace/assets/js/styles.1b08c8f0.js"></script>
<script src="/OpenRace/assets/js/runtime~main.0a23cd4d.js"></script>
<script src="/OpenRace/assets/js/main.7ac5bf8b.js"></script>
<script src="/OpenRace/assets/js/common.ba9d2496.js"></script>
<script src="/OpenRace/assets/js/2.723ce715.js"></script>
<script src="/OpenRace/assets/js/1f391b9e.335e91a1.js"></script>
<script src="/OpenRace/assets/js/19.7d436941.js"></script>
<script src="/OpenRace/assets/js/935f2afb.46712b3d.js"></script>
<script src="/OpenRace/assets/js/17896441.6d896336.js"></script>
<script src="/OpenRace/assets/js/c2c4ac1a.5d9b8101.js"></script>
</body>
</html>